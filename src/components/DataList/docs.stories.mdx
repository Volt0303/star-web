import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
importÂ {
  Avatar,
  Box,
  Badge,
  Text,
  HStack,
  IconButton,
  Icon,
  Menu,
  MenuButton,
  MenuList,
  MenuDivider,
  MenuItem,
} from '@chakra-ui/react';
import { PencilLine, Copy, UserPlus, TrashSimple, CaretLeft, CaretDoubleLeft, CaretRight, CaretDoubleRight } from 'phosphor-react'
import { HitZone } from '../HitZone';
import { TextEllipsis } from '../TextEllipsis';
import { ActionsButton } from '../ActionsButton';
import { DataList, DataListHeader, DataListFooter, DataListRow, DataListCollapse, DataListCell } from './index';

<Meta title="Components/DataList" component={DataList} />

# DataList

<Canvas>
  <Story name="Default">
    {() => {
      const users = [
        { name: 'Jane Cooper', email: 'jane.cooper@example.com', job: 'Regional Paradigm Technician', department: 'Optimization', status: 'Active', role: 'Admin'  },
        { name: 'Cody Fisher', email: 'cody.fisher@example.com', job: 'Product Directives Officer', department: 'Intranet', status: 'Active', role: 'Owner'  },
        { name: 'Esther Howard', email: 'esther.howard@example.com', job: 'Forward Response Developer', department: 'Directives', status: 'Inactive', role: 'Member'  },
      ];
      return (
        <DataList>
          <DataListHeader isVisible={{ base: false, md: true }}>
            <DataListCell
              colName="name"
              colWidth="150%"
            >
              Name
            </DataListCell>
            <DataListCell
              colName="title"
              isVisible={{ base: false, md: true }}
            >
              Title
            </DataListCell>
            <DataListCell
              colName="status"
              colWidth="60%"
              isVisible={{ base: false, md: true }}
            >
              Status
            </DataListCell>
            <DataListCell
              colName="role"
              colWidth="60%"
              isVisible={{ base: false, md: true }}
            >
              Role
            </DataListCell>
            <DataListCell
              colName="actions"
              colWidth="4rem"
              align="flex-end"
            />
          </DataListHeader>
          {users.map((item, index) => (
            <DataListRow key={index} isDisabled={item.status === 'Inactive'}>
              <DataListCell
                colName="name"
                {...(item.status !== 'Inactive' ? { as: 'a', href: '#' } : {})}
              >
                <HitZone />
                <HStack maxW="100%">
                  <Avatar size="sm" name={item.name} mx="2" />
                  <Box minW="0">
                    <TextEllipsis fontWeight="bold">
                      {item.name}
                    </TextEllipsis>
                    <TextEllipsis color="gray.600">
                      {item.email}
                    </TextEllipsis>
                  </Box>
                </HStack>
              </DataListCell>
              <DataListCell colName="title" fontSize="sm">
                <TextEllipsis>
                  {item.job}
                </TextEllipsis>
                <TextEllipsis color="gray.600">
                  {item.department}
                </TextEllipsis>
              </DataListCell>
              <DataListCell colName="status">
                <Badge size="sm" colorScheme={item.status === 'Active' ? 'success' : 'gray'}>{item.status}</Badge>
              </DataListCell>
              <DataListCell colName="role" fontSize="sm">
                <TextEllipsis color="gray.600">
                  {item.role}
                </TextEllipsis>
              </DataListCell>
              <DataListCell colName="actions">
                <Menu placement="left-start">
                  <MenuButton as={ActionsButton} isDisabled={item.status === 'Inactive'} />
                  <MenuList>
                    <MenuItem icon={<Icon as={PencilLine} fontSize="1.5em" weight="duotone" color="gray.500" />}>
                      Edit
                    </MenuItem>
                    <MenuItem icon={<Icon as={Copy} fontSize="1.5em" weight="duotone" color="gray.500" />}>
                      Duplicate
                    </MenuItem>
                    <MenuItem icon={<Icon as={UserPlus} fontSize="1.5em" weight="duotone" color="gray.500" />}>
                      Share
                    </MenuItem>
                    <MenuDivider />
                    <MenuItem icon={<Icon as={TrashSimple} fontSize="1.5em" weight="duotone" color="gray.500" />}>
                      Delete
                    </MenuItem>
                  </MenuList>
                </Menu>
              </DataListCell>
            </DataListRow>
          ))}
          <DataListFooter>
            <IconButton aria-label="First page" icon={<Icon as={CaretDoubleLeft} fontSize="1.5em" />} size="sm" mr="2" isDisabled />
            <IconButton aria-label="Previous page" icon={<Icon as={CaretLeft} fontSize="1.5em" />} size="sm" isDisabled />
            <Box mx="auto" px="2" textAlign="center">
              <Box as="span" d={{ base: 'none', sm: 'inline' }}>Showing</Box>
              {' '}
              <strong>1</strong> to <strong>10</strong> of <strong>97</strong>
              {' '}
              <Box as="span" d={{ base: 'none', sm: 'inline' }}>results</Box>
            </Box>
            <IconButton aria-label="Next page" icon={<Icon as={CaretRight} fontSize="1.5em" />} size="sm" />
            <IconButton aria-label="Last page" icon={<Icon as={CaretDoubleRight} fontSize="1.5em" />} size="sm" ml="2" />
          </DataListFooter>
        </DataList>
      )
    }}
  </Story>
</Canvas>
